{% extends "base.html" %}

{% load static i18n %}

{% block head_styles %}
    <link type="image/x-icon" rel="shortcut icon" href="{% static 'qcde/favicon.ico' %}" />
    <link rel="icon" sizes="256x256" type="image/png" href="{% static 'favicon.png' %}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'qcde/qc-apple-x180.png' %}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet"  href="{% static 'main.css' %}" />
    <link rel="stylesheet"  href="{% static 'qcde.css' %}" />
{% endblock %}

{% block head_scripts %}
    <script defer src="https://www.youtube.com/iframe_api"></script>
    <!-- JavaScript Bundle with Popper -->
    <script defer src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>-->
    <script async defer src="https://kit.fontawesome.com/f91e3d92b2.js" crossorigin="anonymous"></script>
{% endblock %}


{% block body_to_footer %}
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
<div class="container-fluid">
    <a class="navbar-brand" href="#"><img src="{% static 'qcde.png' %}" style='height:90px; position: absolute; z-index: -1; left:1rem; top: -5px;'></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="https://discord.gg/tRFqRrvH">Discord</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="https://www.moddb.com/mods/quake-champions-doom-edition">ModDB</a>
        </li>
    </ul>
    </div>
</div>
</nav>

<main class='d-flex flex-grow-1'>
    <div class='d-flex align-items-center justify-content-center h1080' id='videoTopContaier'>
        <div class="container mainText">
            <div class='col'>
                <h1 class='display-2 text-center'>Quake&nbsp;Champions: Doom&nbsp;Edition</h1>
            </div>
            <div class='col'>
                <p class='text-center'>
                “QC: Doom Edition” is a mod that brings the weapons from the latest Quake game,
                into Doom, with delicious pixelated flavor. More than just weapons, it also brings the “Champions”
                mechanic -- different player classes, each one with unique status, speed,
                active and passive abilities
                </p>
            </div>
            <div class='col text-center'>
                <a class="btn shadow btn-danger btn-huge"
                    href='{{ primary_build.file.url|default:secondary_build.file.url }}'>
                PLAY NOW
                </a>
            </div>
        </div>
        <div class='veil' id='video-overlay'>
            <div id='ytplayer' class='vid1920'></div>
        </div>
    </div>
</main>
{% endblock body_to_footer %}

{% block footer_classes %}qcde d-flex flex-column justify-content-end{% endblock %}

{% block footer %}
    <div class="d-flex justify-content-center">
        <button type="button" id='togglePlay' class="btn btn-warning display-3">Toggle playback</button>
    </div>
{% endblock footer %}


{% block document_end %}
    <script defer src="{% static 'js/qcde.js' %}" crossorigin="anonymous"></script>
{% endblock %}

<footer class='qcde d-flex flex-column justify-content-end'>
    <div class="d-flex justify-content-center">
        <button type="button" id='togglePlay' class="btn btn-warning display-3">Toggle playback</button>
    </div>
    {% if user.is_staff %}
    <div class='mx-auto'>
        <a href='{% url "admin:index" %}'>{% trans 'Administration' %}</a> -
        <a href='{% url "qcde_chunked_upload" %}'>{% trans "QCDE Build upload" %}</a>
    </div>
    {% endif %}

    {% now 'Y' as year %}{# used in copyright string#}
    <div class='subcolour d-flex flex-row flex-wrap justify-content-center mt-3 mx-2' id='copyrights'>
        <span><i class="fas fa-copyright"></i> <b>{% if year != '2020' %}2020-{% endif %}{{ year }} Evghenii Olenciuc</b></span>
        <span class='font-weight-light mx-1'>
            <i class="fas fa-flag"></i>
            <a href='https://fontawesome.com/' target="_blank">fontawesome</a>
        </span>
        <span>
            <i class="fab fa-python"></i>
            {% if user.is_staff %}
                ver. <span class='font-weight-normal'>{{ PROJECT_VERSION }}</span>
            {% endif %}
            powered by
            <b class='font-weight-normal'>
                <a href='https://www.djangoproject.com/' target="_blank">django</a>
            </b>
            {% if user.is_superuser %}
            {{ DJANGO_VERSION }}
            {% endif %}

        </span>
    </div>
</footer>
